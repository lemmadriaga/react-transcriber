<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Video Transcriber Pro</title>
    
    <style>
      /* Import Poppins Font */
      @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
      
      /* CSS Reset and Base Styles */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      }
      
      body {
        width: 380px;
        max-height: 600px;
        overflow-y: auto;
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        margin: 0;
        padding: 0;
      }
      
      /* Utility Classes - Flexbox */
      .flex { display: flex; }
      .flex-col { flex-direction: column; }
      .flex-1 { flex: 1; }
      .items-center { align-items: center; }
      .justify-center { justify-content: center; }
      .justify-between { justify-content: space-between; }
      .gap-1 { gap: 4px; }
      .gap-2 { gap: 8px; }
      .gap-3 { gap: 12px; }
      
      /* Spacing */
      .p-4 { padding: 16px; }
      .p-5 { padding: 20px; }
      .px-3 { padding-left: 12px; padding-right: 12px; }
      .px-4 { padding-left: 16px; padding-right: 16px; }
      .px-6 { padding-left: 24px; padding-right: 24px; }
      .py-2 { padding-top: 8px; padding-bottom: 8px; }
      .py-3 { padding-top: 12px; padding-bottom: 12px; }
      .py-5 { padding-top: 20px; padding-bottom: 20px; }
      .mb-2 { margin-bottom: 8px; }
      .mb-3 { margin-bottom: 12px; }
      .mb-4 { margin-bottom: 16px; }
      .mt-3 { margin-top: 12px; }
      .space-y-3 > * + * { margin-top: 12px; }
      .space-y-4 > * + * { margin-top: 16px; }
      .space-y-5 > * + * { margin-top: 20px; }
      
      /* Sizing */
      .w-full { width: 100%; }
      .w-4 { width: 16px; }
      .h-4 { height: 16px; }
      .min-h-20 { min-height: 80px; }
      .max-h-30 { max-height: 120px; }
      
      /* Typography */
      .text-sm { font-size: 14px; }
      .text-lg { font-size: 18px; }
      .text-xl { font-size: 20px; }
      .text-xs { font-size: 12px; }
      .font-medium { font-weight: 500; }
      .font-semibold { font-weight: 600; }
      .font-bold { font-weight: 700; }
      .text-white { color: white; }
      .text-center { text-align: center; }
      .text-slate-600 { color: #475569; }
      .text-slate-700 { color: #334155; }
      .text-purple-600 { color: #9333ea; }
      .text-pink-500 { color: #ec4899; }
      
      /* Border and Radius */
      .border { border-width: 1px; }
      .rounded-lg { border-radius: 8px; }
      .rounded-xl { border-radius: 12px; }
      .rounded-full { border-radius: 9999px; }
      
      /* Layout */
      .hidden { display: none; }
      .relative { position: relative; }
      .absolute { position: absolute; }
      .overflow-hidden { overflow: hidden; }
      .overflow-y-auto { overflow-y: auto; }
      
      /* Interactions */
      .transition-all { transition: all 0.3s ease; }
      .cursor-pointer { cursor: pointer; }
      .cursor-not-allowed { cursor: not-allowed; }
      
      /* Background */
      .bg-white { background-color: white; }
      .bg-slate-50 { background-color: #f8fafc; }
      
      /* Custom Gradient Background */
      .gradient-bg {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        position: relative;
      }
      
      .gradient-bg::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: 
          radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
        pointer-events: none;
      }
      
      /* Glass Effect */
      .glass-effect {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      }
      
      /* Button Styles */
      .btn-gradient {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: 500;
        border-radius: 8px;
        padding: 12px 16px;
      }
      
      .btn-gradient:hover:not(:disabled) {
        background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
        transform: translateY(-1px);
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
      }
      
      .btn-secondary {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        border: none;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: 600;
        border-radius: 8px;
        padding: 12px 16px;
      }
      
      .btn-secondary:hover:not(:disabled) {
        background: linear-gradient(135deg, #ee84e9 0%, #f3475a 100%);
        transform: translateY(-1px);
        box-shadow: 0 4px 15px rgba(240, 147, 251, 0.4);
      }
      
      .btn-disabled {
        background: #9ca3af !important;
        cursor: not-allowed !important;
        transform: none !important;
        box-shadow: none !important;
        opacity: 0.6;
      }
      
      .btn-green {
        background: linear-gradient(135deg, #10b981, #059669);
        color: white;
        border: none;
        cursor: pointer;
        transition: all 0.3s ease;
        border-radius: 8px;
        padding: 12px 16px;
      }
      
      .btn-green:hover {
        background: linear-gradient(135deg, #0d9568, #047857);
        transform: translateY(-1px);
      }
      
      .btn-blue {
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        color: white;
        border: none;
        cursor: pointer;
        transition: all 0.3s ease;
        border-radius: 8px;
        padding: 12px 16px;
      }
      
      .btn-blue:hover {
        background: linear-gradient(135deg, #2563eb, #1e40af);
        transform: translateY(-1px);
      }
      
      .btn-gray {
        background: #6b7280;
        color: white;
        border: none;
        cursor: pointer;
        transition: all 0.3s ease;
        border-radius: 8px;
        padding: 12px 16px;
      }
      
      .btn-gray:hover {
        background: #4b5563;
        transform: translateY(-1px);
      }
      
      /* Status Styles */
      .status-ready {
        background-color: rgba(34, 197, 94, 0.1);
        color: #059669;
        border: 1px solid rgba(34, 197, 94, 0.2);
        padding: 8px 12px;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 500;
      }
      
      .status-transcribing {
        background-color: rgba(59, 130, 246, 0.1);
        color: #1d4ed8;
        border: 1px solid rgba(59, 130, 246, 0.2);
        padding: 8px 12px;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 500;
      }
      
      .status-error {
        background-color: rgba(239, 68, 68, 0.1);
        color: #dc2626;
        border: 1px solid rgba(239, 68, 68, 0.2);
        padding: 8px 12px;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 500;
      }
      
      /* Form Elements */
      .form-input {
        width: 100%;
        padding: 8px 12px;
        border: 1px solid #d1d5db;
        border-radius: 8px;
        font-size: 14px;
        transition: all 0.2s;
        background: white;
      }
      
      .form-input:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      }
      
      .form-checkbox {
        width: 16px;
        height: 16px;
        border-radius: 4px;
        border: 1px solid #d1d5db;
        margin-right: 8px;
        accent-color: #667eea;
      }
      
      /* Progress Bar */
      .progress-bg {
        width: 100%;
        height: 8px;
        background-color: #e5e7eb;
        border-radius: 4px;
        overflow: hidden;
      }
      
      .progress-bar {
        height: 100%;
        background: linear-gradient(90deg, #667eea, #764ba2);
        transition: width 0.3s ease;
        border-radius: 4px;
      }
      
      /* Processing Indicator */
      .processing-spinner {
        width: 16px;
        height: 16px;
        border: 2px solid #e5e7eb;
        border-top: 2px solid #667eea;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }
      
      @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }
      
      /* Status Dot */
      .status-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        margin-right: 8px;
        animation: pulse-soft 2s ease-in-out infinite;
      }
      
      .status-dot.ready {
        background: linear-gradient(135deg, #10b981, #059669);
      }
      
      .status-dot.transcribing {
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
      }
      
      .status-dot.error {
        background: linear-gradient(135deg, #ef4444, #dc2626);
      }
      
      @keyframes pulse-soft {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.7; }
      }
      
      /* Preview Area */
      .preview-area {
        background: rgba(248, 250, 252, 0.8);
        border: 1px solid rgba(226, 232, 240, 0.5);
        border-radius: 8px;
        padding: 12px;
        min-height: 80px;
        max-height: 120px;
        overflow-y: auto;
        font-size: 12px;
        line-height: 1.5;
        color: #374151;
      }
      
      .preview-area:empty::before {
        content: 'Transcription will appear here...';
        color: #9ca3af;
        font-style: italic;
      }
      
      /* Custom Scrollbar */
      .custom-scrollbar::-webkit-scrollbar {
        width: 4px;
      }
      
      .custom-scrollbar::-webkit-scrollbar-track {
        background: #f1f5f9;
        border-radius: 2px;
      }
      
      .custom-scrollbar::-webkit-scrollbar-thumb {
        background: linear-gradient(135deg, #667eea, #764ba2);
        border-radius: 2px;
      }
      
      .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(135deg, #5a6fd8, #6a4190);
      }
      
      /* Credit Section */
      .credit-section {
        text-align: center;
        font-size: 11px;
        color: #6b7280;
        line-height: 1.4;
      }
      
      .credit-highlight {
        color: #667eea;
        font-weight: 600;
      }
      
      /* Icon replacements - Using Unicode symbols */
      .icon-mic::before { content: 'üé§'; font-size: 16px; }
      .icon-play::before { content: '‚ñ∂Ô∏è'; font-size: 14px; }
      .icon-stop::before { content: '‚èπÔ∏è'; font-size: 14px; }
      .icon-pause::before { content: '‚è∏Ô∏è'; font-size: 14px; }
      .icon-download::before { content: 'üíæ'; font-size: 14px; }
      .icon-settings::before { content: '‚öôÔ∏è'; font-size: 14px; }
      .icon-video::before { content: 'üé¨'; font-size: 14px; }
      .icon-language::before { content: 'üåê'; font-size: 14px; }
      .icon-heart::before { content: 'üíú'; font-size: 12px; }
      
      /* URL Input specific styling */
      .url-input-container {
        border: 2px dashed #e2e8f0;
        transition: all 0.3s ease;
      }
      
      .url-input-container:hover {
        border-color: #667eea;
        background: rgba(102, 126, 234, 0.02);
      }
      
      .url-input-container.has-valid-url {
        border-color: #10b981;
        background: rgba(16, 185, 129, 0.05);
      }
      
      .url-input-container.has-invalid-url {
        border-color: #ef4444;
        background: rgba(239, 68, 68, 0.05);
      }
    </style>
  </head>
  <body class="custom-scrollbar">
    <!-- Gradient Header with Glass Effect -->
    <div class="gradient-bg p-5">
      <div class="glass-effect rounded-xl p-4">
        <div class="text-center space-y-3">
          <div class="flex items-center justify-center gap-2">
            <span class="icon-mic"></span>
            <h1 class="text-xl font-bold text-slate-700">Video Transcriber Pro</h1>
          </div>
          <div class="credit-section">
            Made with <span class="icon-heart"></span> by 
            <span class="credit-highlight">Lemuel Madriaga</span><br>
            for <span class="credit-highlight">Allyson Cabading - Madriaga</span> (soon)
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="p-5 space-y-5">
      <!-- Status Section -->
      <div class="glass-effect rounded-xl p-4">
        <div class="flex items-center justify-between mb-3">
          <h2 class="text-lg font-semibold text-slate-700 flex items-center gap-2">
            <span class="icon-video"></span>
            Status
          </h2>
          <div id="status" class="status-ready">
            <div class="flex items-center">
              <div class="status-dot ready"></div>
              Ready
            </div>
          </div>
        </div>
        
        <!-- Progress Bar (hidden by default) -->
        <div id="progress-container" class="hidden mb-3">
          <div class="progress-bg">
            <div id="progress-bar" class="progress-bar" style="width: 0%"></div>
          </div>
          <p id="progress-text" class="text-xs text-slate-600 mt-1">Processing...</p>
        </div>
      </div>

      <!-- URL Input Section -->
      <div class="glass-effect rounded-xl p-4 url-input-container">
        <h2 class="text-lg font-semibold text-slate-700 mb-3 flex items-center gap-2">
          <span class="icon-video"></span>
          Direct Link Transcription
        </h2>
        
        <div class="space-y-3">
          <div>
            <label class="text-sm text-slate-600 mb-2 block">Google Drive Video URL:</label>
            <input 
              type="url" 
              id="video-url-input" 
              class="form-input" 
              placeholder="https://drive.google.com/file/d/..." 
            />
          </div>
          
          <div class="flex gap-2">
            <button id="transcribe-url-btn" class="btn-secondary flex-1 flex items-center justify-center gap-2">
              <span class="icon-video"></span>
              Transcribe from URL
            </button>
            <button id="clear-url-btn" class="btn-gray px-3 flex items-center justify-center">
              <span style="font-size: 14px;">üóëÔ∏è</span>
            </button>
          </div>
          
          <div class="text-xs text-slate-600">
            <strong>Note:</strong> You must have access to the video. Works with private, shared, and public Google Drive videos.
          </div>
        </div>
      </div>

      <!-- Controls Section -->
      <div class="glass-effect rounded-xl p-4">
        <h2 class="text-lg font-semibold text-slate-700 mb-3 flex items-center gap-2">
          <span class="icon-settings"></span>
          Controls
        </h2>
        
        <div class="space-y-3">
          <!-- Primary Actions -->
          <div class="flex gap-2">
            <button id="start-btn" class="btn-gradient flex-1 flex items-center justify-center gap-2">
              <span class="icon-play"></span>
              Start Transcription
            </button>
            <button id="stop-btn" class="btn-gray flex-1 flex items-center justify-center gap-2" disabled>
              <span class="icon-stop"></span>
              Stop
            </button>
          </div>
          
          <!-- Full Video Transcription -->
          <button id="full-transcribe-btn" class="btn-secondary w-full flex items-center justify-center gap-2">
            <span class="icon-video"></span>
            Transcribe Full Video
          </button>
        </div>
      </div>

      <!-- Language Settings -->
      <div class="glass-effect rounded-xl p-4">
        <h2 class="text-lg font-semibold text-slate-700 mb-3 flex items-center gap-2">
          <span class="icon-language"></span>
          Language
        </h2>
        
        <select id="language-select" class="form-input">
          <option value="en-US">English (US)</option>
          <option value="en-GB">English (UK)</option>
          <option value="es-ES">Spanish</option>
          <option value="fr-FR">French</option>
          <option value="de-DE">German</option>
          <option value="it-IT">Italian</option>
          <option value="pt-BR">Portuguese (Brazil)</option>
          <option value="ja-JP">Japanese</option>
          <option value="ko-KR">Korean</option>
          <option value="zh-CN">Chinese (Simplified)</option>
          <option value="ar-SA">Arabic</option>
          <option value="ru-RU">Russian</option>
        </select>
        
        <div class="mt-3">
          <label class="flex items-center text-sm text-slate-600">
            <input type="checkbox" id="continuous-mode" class="form-checkbox" checked>
            Continuous Recognition
          </label>
        </div>
      </div>

      <!-- Transcription Preview -->
      <div class="glass-effect rounded-xl p-4">
        <h2 class="text-lg font-semibold text-slate-700 mb-3">Live Preview</h2>
        <div id="transcription-preview" class="preview-area custom-scrollbar"></div>
        
        <!-- Download Section -->
        <div class="mt-3">
          <button id="download-btn" class="btn-blue flex items-center justify-center gap-2" disabled>
            <span class="icon-download"></span>
            Download Transcript
          </button>
        </div>
      </div>
    </div>

    <script src="popup.js"></script>
  </body>
</html>